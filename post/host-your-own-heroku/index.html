<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="Host your own mini-Heroku on the DreamHost DreamCompute cloud platform with Dokku">
    <meta name="keywords" content="dokku,heroku,host heroku,dreamhost,dreamcompute">
    <meta property="og:title" content="Host your own Heroku with Dokku on DreamHost&#39;s Cloud">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2016-12-14">
    
    <meta property="og:description" content="Host your own mini-Heroku on the DreamHost DreamCompute cloud platform with Dokku">
    <meta property="og:url" content="https://gloutnikov.com/post/host-your-own-heroku/">
    <meta property="og:site_name" content="Stefan Gloutnikov">
    
    <meta property="og:tags" content="heroku">
    
    <meta property="og:tags" content="dokku">
    
    <meta property="og:tags" content="DreamCompute">
    
    <meta name="generator" content="Hugo 0.147.9">
    <title>Host your own Heroku with Dokku on DreamHost&#39;s Cloud - Stefan Gloutnikov</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/darcula.min.css">
    
    <link rel="stylesheet" href="https://gloutnikov.com/css/style.css">
    
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://gloutnikov.com/">Stefan Gloutnikov</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="https://gloutnikov.com/aboutme/">About Me</a></li>
				
					<li><a href="https://gloutnikov.com/">Blog</a></li>
				
					<li><a href="https://gloutnikov.com/projects/">Projects</a></li>
				
					<li><a href="https://gloutnikov.com/quotes/">Quotes</a></li>
				
					<li><a href="https://gloutnikov.com/">Notes</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="https://gloutnikov.com/">Stefan Gloutnikov</a></h1>
		
		
		
			<small class="text-center center-block">Software Engineer</small>
		
		
		
			<img id="profile-pic" src="https://gloutnikov.com//img/profile.jpg" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://www.linkedin.com/in/sgloutnikov"><i class="fab fa-linkedin fa-2x"></i></a>
			
				<a href="https://github.com/sgloutnikov"><i class="fab fa-github fa-2x"></i></a>
			
				<a href="https://bsky.app/profile/gloutnikov.com"><i class="fab fa-bluesky fa-2x"></i></a>
			
				<a href="https://mastodon.social/@sgloutnikov"><i class="fab fa-mastodon fa-2x"></i></a>
			
				<a href="https://keybase.io/sgloutnikov"><i class="fab fa-keybase fa-2x"></i></a>
			

			<a href="mailto:stefan@gloutnikov.com"><i class="far fa-envelope fa-2x"></i></a>
		</div>
		<div id="links" class="text-center">
			
			
				
					<a href="https://gloutnikov.com/aboutme/">About Me</a>
				
			
				
					<a href="https://gloutnikov.com/">Blog</a>
				
			
				
					<a href="https://gloutnikov.com/projects/">Projects</a>
				
			
				
					<a href="https://gloutnikov.com/quotes/">Quotes</a>
				
			
				
					<a href="https://notes.gloutnikov.com">Notes</a>
				
			
		</div>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-7">

<main>
	<header>
		<h1>Host your own Heroku with Dokku on DreamHost&#39;s Cloud</h1>
	</header>

	<small>
		14 December 2016
		<br><br>
	</small>

	<article>
		<p>After hosting a few of my apps on Heroku I quickly became a fan of the platform, and saw why it gets such high praise. The ease of deploying an application straight through Git is amazing. Not having to worry about managing servers, or managing the environment is perfect&ndash;it allows a developer to go straight into developing and deploying their apps with minimal hassle.</p>
<p>Heroku has a great free tier that gives developers 1000 free hours per month, great for playing around with the platform and hosting a single app continuously. There are however a few limitations that I went into in my previous <a href="https://gloutnikov.com/post/theheat-tracker/" target="_blank">post</a> regarding hosting my app. In a few words, Heroku is great for a single hobby application, but hosting more than one hobby application can become pretty expensive. Heroku&rsquo;s pricing model can be found <a href="https://www.heroku.com/pricing" target="_blank">here</a>. Luckily there is an alternative that gives us all the goodies at a very reasonable price. It will take a little initial effort on our part, but after that it is smooth sailing.</p>
<p>Enter <a href="http://dokku.viewdocs.io/dokku" target="_blank">Dokku</a>. Dokku is an open-source mini-Heroku powered by <a href="https://www.docker.com/" target="_blank">Docker</a>. Once it&rsquo;s set up on a host, you can push Heroku-compatible applications to it via Git. They&rsquo;ll build using Heroku buildpacks, and then run in isolated containers. The end result is your own, single-host version of Heroku.</p>
<p>There are a several great SSD cloud computing hosting providers out there like <a href="https://www.digitalocean.com" target="_blank">DigitalOcean</a> or <a href="https://www.linode.com" target="_blank">linode</a>, but I chose to give a so-called &lsquo;outsider&rsquo; a chance. <a href="https://www.dreamhost.com/cloud/computing/" target="_blank">DreamCompute</a> is DreamHost&rsquo;s all-SSD cloud computing platform engineered around OpenStack and Ceph. DreamHost won me over after seeing their plans and respective prices. In addition, after asking around there had not been any negative feedback. All servers get charged only up to a maximum of 600 hours (25 days) in a given month. To sweeten the deal even more, all accounts receive free unlimited bandwidth, 100GB of block storage, and 80 GB SSD disk space per server instance. For my current needs I will be going with the minimal &lsquo;semisonic&rsquo; plan, but here is all of what DreamHost offers:</p>
<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto;}
.tg td{font-family:Arial, sans-serif;font-size:14px;padding:3px 3px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg .tg-baqh{text-align:center;vertical-align:top}
.tg .tg-yw4l{vertical-align:top}
</style>
<table class="tg">
  <tr>
    <th class="tg-yw4l">Flavor/Plan</th>
    <th class="tg-baqh"><b>vCPU</b></th>
    <th class="tg-baqh"><b>Memory</b></th>
    <th class="tg-baqh"><b>Hourly Price</b></th>
    <th class="tg-baqh"><b>Max Monthly Price</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l">semisonic</td>
    <td class="tg-baqh">1</td>
    <td class="tg-baqh">512 MB</td>
    <td class="tg-baqh">$0.0075</td>
    <td class="tg-baqh">$4.50</td>
  </tr>
  <tr>
    <td class="tg-yw4l">subsonic</td>
    <td class="tg-baqh">1</td>
    <td class="tg-baqh">1 GB</td>
    <td class="tg-baqh">$0.01</td>
    <td class="tg-baqh">$6.00</td>
  </tr>
  <tr>
    <td class="tg-yw4l">supersonic</td>
    <td class="tg-baqh">1</td>
    <td class="tg-baqh">2 GB</td>
    <td class="tg-baqh">$0.02</td>
    <td class="tg-baqh">$12.00</td>
  </tr>
  <tr>
    <td class="tg-yw4l">lightspeed</td>
    <td class="tg-baqh">2</td>
    <td class="tg-baqh">4 GB</td>
    <td class="tg-baqh">$0.04</td>
    <td class="tg-baqh">$24.00</td>
  </tr>
  <tr>
    <td class="tg-yw4l">warpseed</td>
    <td class="tg-baqh">4</td>
    <td class="tg-baqh">8 GB</td>
    <td class="tg-baqh">$0.08</td>
    <td class="tg-baqh">$48.00</td>
  </tr>
  <tr>
    <td class="tg-yw4l">hyperspeed</td>
    <td class="tg-baqh">8</td>
    <td class="tg-baqh">16 GB</td>
    <td class="tg-baqh">$0.16</td>
    <td class="tg-baqh">$96.00</td>
  </tr>
</table>
<p>With all the janitorial tasks out of the way, let&rsquo;s get to setting up Dokku on a fresh DreamCompute instance. There are two ways to go about this, one is through DreamHost&rsquo;s Web UI, and the other is via the OpenStack command line interface.</p>
<p>We will be using the pre-loaded Ubuntu-14.04 image, allowing us to add a post-creation script that installs Dokku automatically. Currently the other available images (Debian-8 and Ubuntu-16.04) are slightly incomplete and require fixing of a few minor things like adding a FQDN inside /etc/hosts, or adding nameservers inside /etc/resolv.conf in order to automate the creation of the instance and installation of Dokku. I have contacted DreamHost support regarding these minor issues, and have gotten a reply that they will be rebuilding the images in question to fix this. Note: Installing Dokku on the Ubuntu-16.04 or Debian-8 images is completely valid, but currently could require a few extra steps.</p>
<h4 id="web-ui">Web UI</h4>
<p>Login to DreamHost&rsquo;s DreamCompute web control panel, and launch a new instance from the <code>Compute &gt; Instances</code> menu.</p>
<p><em><strong>Launch a new instance</strong></em></p>
<p>Select the availability zone, give the instance a name, pick the flavor/plan, and select the Ubuntu 14.04 image:</p>
<div style="text-align:center"><img src ="/post/2016/host-your-own-heroku/instance1.png" /></div>
<p>Add our SSH public key and select the default security group:</p>
<div style="text-align:center"><img src ="/post/2016/host-your-own-heroku/instance2.png" /></div>
<p>Ensure the public network is selected:</p>
<div style="text-align:center"><img src ="/post/2016/host-your-own-heroku/instance3.png" /></div>
<p>In the final tab, add the following post-creation script and replace <code>$YOUR_FULL_QUALIFIED_DOMAIN</code> at the bottom with the domain name you intend to use for Dokku, and click launch.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#007f7f">#cloud-config</span>
</span></span><span style="display:flex;"><span>apt_upgrade: <span style="color:#fff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>apt_sources:
</span></span><span style="display:flex;"><span> - source: <span style="color:#0ff;font-weight:bold">&#34;deb https://packagecloud.io/dokku/dokku/ubuntu/ trusty main&#34;</span>
</span></span><span style="display:flex;"><span>   key: |
</span></span><span style="display:flex;"><span>    -----BEGIN PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>    Version: SKS 1.1.5
</span></span><span style="display:flex;"><span>    Comment: Hostname: pgpkeys.eu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mQINBFLUbogBEADceEoxBDoE6QM5xV/13qiELbFIkQgy/eEi3UesXmJblFdU7wcDLOW3NuOI
</span></span><span style="display:flex;"><span>    x/dgbZljeMEerj6N1cR7r7X5sVoFVEZiK4RLkC3Cpdns0d90ud2f3VyKK7PXRBstdLm3JlW9
</span></span><span style="display:flex;"><span>    OWZoe4VSADSMGWm1mIhT601qLKKAuWJoBIhnKY/RhA/RBXt7z22g4ta9bT67PlliTo1a8y6D
</span></span><span style="display:flex;"><span>    hUA7gd+5TsVHaxDRrzc3mKObdyS5LOT/gf8Ti2tYBY5MBbQ8NUGExls4dXKlieePhKutFbde
</span></span><span style="display:flex;"><span>    7sq3n5sdp1Ndoran1u0LsWnaSDx11R3xiYfXJ6xGukAc6pYlUD1yYjU4oRGhD2fPyuewqhHN
</span></span><span style="display:flex;"><span>    UVwqupTBQtEGULrtdwK04kgIH93ssGRsLqUKe88uZeeBczVuupv8ZLd1YcQ29AfJHe6nsevs
</span></span><span style="display:flex;"><span>    gjF+eajYlzsvC8BNq3nOvvedcuI6BW4WWFjraH06GNTyMAZi0HibTg65guZXpLcpPW9hTzXM
</span></span><span style="display:flex;"><span>    oUrZz8MvJ9yUBcFPKuFOLDpRP6uaIbxJsYqiituoltl0vgS/vJcpIVVRwSaqPHa6S63dmKm2
</span></span><span style="display:flex;"><span>    6gq18v4l05mVcInPn+ciHtcSlZgQkCsRTSvfUrK+7nzyWtNQMGKstAZ7AHCoA8Pbc3i7wyOt
</span></span><span style="display:flex;"><span>    nTgfPFHVpHg3JHsPXKk9/71YogtoNFoETMFeKL1K+O+GMQddYQARAQABtDdwYWNrYWdlY2xv
</span></span><span style="display:flex;"><span>    dWQgb3BzIChwcm9kdWN0aW9uIGtleSkgPG9wc0BwYWNrYWdlY2xvdWQuaW8+iQI+BBMBAgAo
</span></span><span style="display:flex;"><span>    BQJS1G6IAhsvBQkJZgGABgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRDC5zQk1ZCXq13K
</span></span><span style="display:flex;"><span>    D/wNzAi6rEzRyx6NH61Hc19s2QAgcU1p1mX1Tw0fU7CThx1nr8JrG63465c9dzUpVzNTYvMs
</span></span><span style="display:flex;"><span>    USBJwbb1phahCMNGbJpZRQ5bvW/i3azmk/EHKL7wgMV8wu1atu6crrxGoDEfWUa4aIwbxZGk
</span></span><span style="display:flex;"><span>    oxDZKZeKaLxz2ZChuKzjvkGUk4PUoOxxPn9XeFmJQ68ys4Z0CgIGfx2i64apqfsjVEdWEEBL
</span></span><span style="display:flex;"><span>    oxHFIPy7FgFafRL0bgsquwPkb5q/dihIzJEZ2EMOGwXuUaKI/UAhgRIUGizuW7ECEjX4FG92
</span></span><span style="display:flex;"><span>    8RsizHBjYL5Gl7DMt1KcPFe/YU/AdWEirs9pLQUr9eyGZN7HYJ03Aiy8R5aMBoeYsfxjifkb
</span></span><span style="display:flex;"><span>    WCpbN+SEATaB8YY6Zy2LK/5TiUYNUYb/VHP//ZEv0+uPgkoro6gWVkvGDdXqH2d9svwfrQKf
</span></span><span style="display:flex;"><span>    GSEQYXlLytZKvQSDLAqclSANs/y5HDjUxgtWKdsL3xNPCmffjpyiqS4pvoTiUwS4FwBsIR2s
</span></span><span style="display:flex;"><span>    BDToIEHDvTNk1imeSmxCUgDxFzWkmB70FBmwz7zs9FzuoegrAxXonVit0+f3CxquN7tS0mHa
</span></span><span style="display:flex;"><span>    WrZfhHxEIt65edkIz1wETOch3LIg6RaFwsXgrZCNTB/zjKGAFEzxOSBkjhyJCY2g74QNObKg
</span></span><span style="display:flex;"><span>    TSeGNFqG0ZBHe2/JQ33UxrDtpeKvCYTbjuWlyrkCDQRS1G6IARAArtNBXq+CNU9DR2YCi759
</span></span><span style="display:flex;"><span>    fLR9F62Ec/QLWY3c/D26OqjTgjxAzGKbu1aLzphP8tq1GDCbWQ2BMMZI+L0Ed502u6kC0fzv
</span></span><span style="display:flex;"><span>    bppRRXrVaxBrwxY9XhnzvkXXzwNwnBalkrJ5Yk0lN8ocwCuUJohms7V14nEDyHgAB8yqCEWz
</span></span><span style="display:flex;"><span>    Qm/SIZw35N/insTXshcdiUGeyufo85SFhCUqZ1x1TkSC/FyDG+BCwArfj8Qwdab3UlUEkF6c
</span></span><span style="display:flex;"><span>    zTjwWIO+5vYuR8bsCGYKCSrGRh5nxw0tuGXWXWFlBMSZP6mFcCDRQDGcKOuGTjiWzLJcgsEc
</span></span><span style="display:flex;"><span>    BoIX4WpHJYgl6ovex7HkfQsWPYL5V1FIHMlw34ALx4aQDH0dPJpC+FxynrfTfsIzPnmm2huX
</span></span><span style="display:flex;"><span>    PGGYul/TmOp00CsJEcKOjqcrYOgraYkCGVXbd4ri6Pf7wJNiJ8V1iKTzQIrNpqGDk306Fww1
</span></span><span style="display:flex;"><span>    VsYBLOnrSxNPYOOu1s8c8c9N5qbEbOCtQdFf5pfuqsr5nJ0G4mhjQ/eLtDA4E7GPrdtUoceO
</span></span><span style="display:flex;"><span>    kYKcQFt/yqnL1Sj9Ojeht3ENPyVSgE8NiWxNIEM0YxPyJEPQawejT66JUnTjzLfGaDUxHfse
</span></span><span style="display:flex;"><span>    RcyMMTbTrZ0fLJSRaIH1AubPxhiYy+IcWOVMyLiUwjBBpKMStej2XILEpIJXP6Pn96KjMcB1
</span></span><span style="display:flex;"><span>    grd0J2vMw2Kg3E8AEQEAAYkERAQYAQIADwUCUtRuiAIbLgUJCWYBgAIpCRDC5zQk1ZCXq8Fd
</span></span><span style="display:flex;"><span>    IAQZAQIABgUCUtRuiAAKCRA3u+4/etlbPwI5D/4idr7VHQpou6c/YLnK1lmz3hEikdxUxjC4
</span></span><span style="display:flex;"><span>    ymOyeODsGRlaxXfjvjOCdocMzuCY3C+ZfNFKOTtVY4fV5Pd82MuY1H8lnuzqLxT6UwpIwo+y
</span></span><span style="display:flex;"><span>    Ev6xSK0mqm2FhT0JSQ7E7MnoHqsU0aikHegyEucGIFzew6BJUD2xBu/qmVP/YEPUzhW4g8uD
</span></span><span style="display:flex;"><span>    +oRMxdAHXqvtThvFySY/rakLQRMRVwYdTFHrvu3zHP+6hpZt25llJb3DiO+dTsv+ptLmlUr5
</span></span><span style="display:flex;"><span>    JXLSSw2DfLxQa0kD5PGWpFPVJcxraS2pNDK9KTi2nr1ZqDxeKjDBT6zZOs9+4JQ9fepn1S26
</span></span><span style="display:flex;"><span>    AmHWHhyzvpjKxVm4sOilKysi84CYluNrlEnidNf9wQa3NlLmtvxXQfm1py5tlwL5rE+ek1fw
</span></span><span style="display:flex;"><span>    leaKXRcNNmm+T+vDdIw+JcHy8a53nK1JEfBqEuY6IqEPKDke0wDIsDLSwI1OgtQoe7Cm1PBu
</span></span><span style="display:flex;"><span>    jfJu4rYQE+wwgWILTAgIy8WZXAloTcwVMtgfSsgHia++LqKfLDZ3JuwpaUAHAtguPy0QddvF
</span></span><span style="display:flex;"><span>    I4R7eFDVwHT0sS3AsG0HAOCY/1FRe8cAw/+9Vp0oDtOvBWAXycnCbdQeHvwh2+Uj2u2f7K3C
</span></span><span style="display:flex;"><span>    DMoevcBl4L5fkFkYTkmixCDy5nst1VM5nINueUIkUAJJbOGpd6yFdif7mQR0JWcPLudb+fwu
</span></span><span style="display:flex;"><span>    sJ4UEACYWhPa8Gxa7eYopRsydlcdEzwpmo6E+V8GIdLFRFFpKHQEzbSW5coxzU6oOiPbTurC
</span></span><span style="display:flex;"><span>    ZorIMHTA9cpAZoMUGKaSt19UKIMvSqtcDayhgf4cZ2ay1z0fdJ2PuLeNnWeiGyfq78q6wqSa
</span></span><span style="display:flex;"><span>    Jq/h6JdAiwXplFd3gqJZTrFZz7A6Q6Pd7B+9PZ/DUdEO3JeZlHJDfRmfU2XPoyPUoq79+whP
</span></span><span style="display:flex;"><span>    5Tl3WwHUv7Fg357kRSdzKv9DbgmhqRHlgVeKn9pwN4cpVBN+idzwPefQksSKH4lBDvVr/9j+
</span></span><span style="display:flex;"><span>    V9mmrOx7QmQ5LCc/1on+L0dqo6suoajADhKy+lDQbzs2mVb4CLpPKncDup/9iJbjiR17DDFM
</span></span><span style="display:flex;"><span>    wgyCoy5OHJICQ5lckNNgkHTS6Xiogkt28YfK4P3S0GaZgIrhKQ7AmO3O+hB12Zr+olpeyhGB
</span></span><span style="display:flex;"><span>    OpBD80URntdEcenvfnXBY/BsuAVbTGXiBzrlBEyQxg656jUeqAdXg+nzCvP0yJlBUOjEcwyh
</span></span><span style="display:flex;"><span>    K/U2nw9nGyaR3u0a9r24LgijGpdGabIeJm6O9vuuqFHHGI72pWUEs355lt8q1pAoJUv8NehQ
</span></span><span style="display:flex;"><span>    mlaR0h5wcwhEtwM6fiSIUTnuJnyHT053GjsUD7ef5fY1KEFmaZeW04kRtFDOPinz0faE8hvs
</span></span><span style="display:flex;"><span>    xzsVgkKye1c2vkXKdOXvA3x+pZzlTHtcgMOhjKQAsA==
</span></span><span style="display:flex;"><span>    =H60S
</span></span><span style="display:flex;"><span>    -----END PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>   filename: dokku.list
</span></span><span style="display:flex;"><span> - source: <span style="color:#0ff;font-weight:bold">&#34;deb https://apt.dockerproject.org/repo ubuntu-trusty main&#34;</span>
</span></span><span style="display:flex;"><span>   key: |
</span></span><span style="display:flex;"><span>    -----BEGIN PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>    Version: SKS 1.1.5
</span></span><span style="display:flex;"><span>    Comment: Hostname: pgpkeys.co.uk
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mQINBFWln24BEADrBl5p99uKh8+rpvqJ48u4eTtjeXAWbslJotmC/CakbNSqOb9oddfzRvGV
</span></span><span style="display:flex;"><span>    eJVERt/Q/mlvEqgnyTQy+e6oEYN2Y2kqXceUhXagThnqCoxcEJ3+KM4RmYdoe/BJ/J/6rHOj
</span></span><span style="display:flex;"><span>    q7Omk24z2qB3RU1uAv57iY5VGw5p45uZB4C4pNNsBJXoCvPnTGAs/7IrekFZDDgVraPx/hdi
</span></span><span style="display:flex;"><span>    wopQ8NltSfZCyu/jPpWFK28TR8yfVlzYFwibj5WKdHM7ZTqlA1tHIG+agyPf3Rae0jPMsHR6
</span></span><span style="display:flex;"><span>    q+arXVwMccyOi+ULU0z8mHUJ3iEMIrpTX+80KaN/ZjibfsBOCjcfiJSB/acn4nxQQgNZigna
</span></span><span style="display:flex;"><span>    32velafhQivsNREFeJpzENiGHOoyC6qVeOgKrRiKxzymj0FIMLru/iFF5pSWcBQB7PYlt8J0
</span></span><span style="display:flex;"><span>    G80lAcPr6VCiN+4cNKv03SdvA69dCOj79PuO9IIvQsJXsSq96HB+TeEmmL+xSdpGtGdCJHHM
</span></span><span style="display:flex;"><span>    1fDeCqkZhT+RtBGQL2SEdWjxbF43oQopocT8cHvyX6Zaltn0svoGs+wX3Z/H6/8P5anog43U
</span></span><span style="display:flex;"><span>    65c0A+64Jj00rNDr8j31izhtQMRo892kGeQAaaxg4Pz6HnS7hRC+cOMHUU4HA7iMzHrouAdY
</span></span><span style="display:flex;"><span>    eTZeZEQOA7SxtCME9ZnGwe2grxPXh/U/80WJGkzLFNcTKdv+rwARAQABtDdEb2NrZXIgUmVs
</span></span><span style="display:flex;"><span>    ZWFzZSBUb29sIChyZWxlYXNlZG9ja2VyKSA8ZG9ja2VyQGRvY2tlci5jb20+iQIcBBABCgAG
</span></span><span style="display:flex;"><span>    BQJWw7vdAAoJEFyzYeVS+w0QHysP/i37m4SyoOCVcnybl18vzwBEcp4VCRbXvHvOXty1gccV
</span></span><span style="display:flex;"><span>    IV8/aJqNKgBV97lY3vrpOyiIeB8ETQegsrxFE7t/Gz0rsLObqfLEHdmn5iBJRkhLfCpzjeOn
</span></span><span style="display:flex;"><span>    yB3Z0IJB6UogO/msQVYe5CXJl6uwr0AmoiCBLrVlDAktxVh9RWch0l0KZRX2FpHu8h+uM0/z
</span></span><span style="display:flex;"><span>    ySqIidlYfLa3y5oHscU+nGU1i6ImwDTD3ysZC5jp9aVfvUmcESyAb4vvdcAHR+bXhA/RW8QH
</span></span><span style="display:flex;"><span>    eeMFliWw7Z2jYHyuHmDnWG2yUrnCqAJTrWV+OfKRIzzJFBs4e88ru5h2ZIXdRepw/+COYj34
</span></span><span style="display:flex;"><span>    LyzxR2cxr2u/xvxwXCkSMe7F4KZAphD+1ws61FhnUMi/PERMYfTFuvPrCkq4gyBjt3fFpZ2N
</span></span><span style="display:flex;"><span>    R/fKW87QOeVcn1ivXl9id3MMs9KXJsg7QasT7mCsee2VIFsxrkFQ2jNpD+JAERRn9Fj4ArHL
</span></span><span style="display:flex;"><span>    5TbwkkFbZZvSi6fr5h2GbCAXIGhIXKnjjorPY/YDX6X8AaHOW1zblWy/CFr6VFl963jrjJga
</span></span><span style="display:flex;"><span>    g0G6tNtBZLrclZgWhOQpeZZ5Lbvz2ZA5CqRrfAVcwPNW1fObFIRtqV6vuVluFOPCMAAnOnqR
</span></span><span style="display:flex;"><span>    02w9t17iVQjO3oVN0mbQi9vjuExXh1YoScVetiO6LSmlQfVEVRTqHLMgXyR/EMo7iQIcBBAB
</span></span><span style="display:flex;"><span>    CgAGBQJXSWBlAAoJEFyzYeVS+w0QeH0QAI6btAfYwYPuAjfRUy9qlnPhZ+xt1rnwsUzsbmo8
</span></span><span style="display:flex;"><span>    K3XTNh+l/R08nu0dsczw30Q1wju28fh1N8ay223+69f0+yICaXqR18AbGgFGKX7vo0gfEVax
</span></span><span style="display:flex;"><span>    dItUN3eHNydGFzmeOKbAlrxIMECnSTG/TkFVYO9Ntlv9vSN2BupmTagTRErxLZKnVsWRzp+X
</span></span><span style="display:flex;"><span>    elwlgU5BCZ6U6Ze8+bIc6F1bZstf17X8i6XNV/rOCLx2yP0hn1osoljoLPpW8nzkwvqYsYbC
</span></span><span style="display:flex;"><span>    A28lMt1aqe0UWvRCqR0zxlKn17NZQqjbxcajEMCajoQ01MshmO5GWePViv2abCZ/iaC5zKqV
</span></span><span style="display:flex;"><span>    T3deMJHLq7lum6qhA41E9gJH9QoqT+qgadheeFfoC1QP7cke+tXmYg2R39p3l5Hmm+JQbP4f
</span></span><span style="display:flex;"><span>    9V5mpWExvHGCSbcatr35tnakIJZugq2ogzsm1djCSz9222RXl9OoFqsm1bNzA78+/cOt5N2c
</span></span><span style="display:flex;"><span>    yhU0bM2T/zgh42YbDD+JDU/HSmxUIpU+wrGvZGM2FU/up0DRxOC4U1fL6HHlj8liNJWfEg3v
</span></span><span style="display:flex;"><span>    hougOh66gGF9ik5j4eIlNoz6lst+gmvlZQ9/9hRDeoG+AbhZeIlQ4CCw+Y1j/+fUxIzKHPVK
</span></span><span style="display:flex;"><span>    +aFJd+oJVNvbojJW/SgDdSMtFwqOvXyYcHl30Ws0gZUeDyAmNGZeJ3kFklnApDmeKK+OiQIi
</span></span><span style="display:flex;"><span>    BBABCgAMBQJXe5zTBYMHhh+AAAoJEDG4FaMBBnSp7YMQAJqrXoBonZAq07B6qUaT3aBCgnY4
</span></span><span style="display:flex;"><span>    JshbXmFb/XrrS75f7YJDPx2fJJdqrbYDIHHgOjzxvp3ngPpOpJzI5sYmkaugeoCO/KHu/+39
</span></span><span style="display:flex;"><span>    XqgTB7fguzapRfbvuWp+qzPcHSdb9opnagfzKAze3DQnnLiwCPlsyvGpzC4KzXgV2ze/4raa
</span></span><span style="display:flex;"><span>    Oye1kK7O0cHyapmn/q/TR3S8YapyXq5VpLThwJAw1SRDu0YxeXIAQiIfaSxT79EktoioW2CS
</span></span><span style="display:flex;"><span>    V8/djt+gBjXnKYJJA8P1zzX7GNt/Rc2YG0Ot4v6tBW16xqFTg+n5JzbeK5cZ1jbIXXfCcaZJ
</span></span><span style="display:flex;"><span>    yiM2MzYGhSJ9+EV7JYF05OAIWE4SGTRjXMquQ2oMLSwMCPQHm+FCD9PXQ0tHYx6tKT34wksd
</span></span><span style="display:flex;"><span>    moWsdejl/n3NS+178mG1WI/lN079h3im2gRwOykMou/QWs3vGw/xDoOYHPV2gJ7To9BLVnVK
</span></span><span style="display:flex;"><span>    /hROgdFLZFeyRScNzwKm57HmYMFA74tX601OiHhk1ymP2UUc25oDWpLXlfcRULJJlo/KfZZF
</span></span><span style="display:flex;"><span>    3pmKwIq3CilGayFUi1NNwuavG76EcAVtVFUVFFIITwkhkuRbBHIytzEHYosFgD5/acK0Pauq
</span></span><span style="display:flex;"><span>    JnwrwKv0nWq3aK7nKiALAD+iZvPNjFZau3/APqLEmvmRnAElmugcHsWREFxMMjMMVgYFiYKU
</span></span><span style="display:flex;"><span>    AJO8u46eiQI4BBMBAgAiBQJVpZ9uAhsvBgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRD3
</span></span><span style="display:flex;"><span>    YiFXLFJgnbRfEAC9Uai7Rv20QIDlDogRzd+Vebg4ahyoUdj0CH+nAk40RIoq6G26u1e+sdgj
</span></span><span style="display:flex;"><span>    pCa8jF6vrx+smpgd1HeJdmpahUX0XN3X9f9qU9oj9A4I1WDalRWJh+tP5WNv2ySy6AwcP9Qn
</span></span><span style="display:flex;"><span>    juBMRTnTK27pk1sEMg9oJHK5p+ts8hlSC4SluyMKH5NMVy9c+A9yqq9NF6M6d6/ehKfBFFLG
</span></span><span style="display:flex;"><span>    9BX+XLBATvf1ZemGVHQusCQebTGv0C0V9yqtdPdRWVIEhHxyNHATaVYOafTj/EF0lDxLl6zD
</span></span><span style="display:flex;"><span>    T6trRV5n9F1VCEh4Aal8L5MxVPcIZVO7NHT2EkQgn8CvWjV3oKl2GopZF8V4XdJRl90U/WDv
</span></span><span style="display:flex;"><span>    /6cmfI08GkzDYBHhS8ULWRFwGKobsSTyIvnbk4NtKdnTGyTJCQ8+6i52s+C54PiNgfj2ieNn
</span></span><span style="display:flex;"><span>    6oOR7d+bNCcG1CdOYY+ZXVOcsjl73UYvtJrO0Rl/NpYERkZ5d/tzw4jZ6FCXgggA/Zxcjk6Y
</span></span><span style="display:flex;"><span>    1ZvIm8Mt8wLRFH9Nww+FVsCtaCXJLP8DlJLASMD9rl5QS9Ku3u7ZNrr5HWXPHXITX660jgly
</span></span><span style="display:flex;"><span>    shch6CWeiUATqjIAzkEQom/kEnOrvJAtkypRJ59vYQOedZ1sFVELMXg2UCkD/FwojfnVtjzY
</span></span><span style="display:flex;"><span>    aTCeGwFQeqzHmM241iuOmBYPeyTY5veF49aBJA1gEJOQTvBR8Q==
</span></span><span style="display:flex;"><span>    =Yhur
</span></span><span style="display:flex;"><span>    -----END PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>   filename: docker.list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>package_upgrade: <span style="color:#fff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>debconf_selections: |
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dokku dokku/web_config boolean <span style="color:#fff;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>    dokku dokku/vhost_enable boolean <span style="color:#fff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># set the domain name of the new Dokku server</span>
</span></span><span style="display:flex;"><span>    dokku dokku/hostname string $YOUR_FULL_QUALIFIED_DOMAIN
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># this copies over the public SSH key assigned to the server</span>
</span></span><span style="display:flex;"><span>    dokku dokku/key_file string /home/ubuntu/.ssh/authorized_keys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>packages:
</span></span><span style="display:flex;"><span>   - dokku
</span></span></code></pre></div><p>After a few minutes a new instance will be created and started. From the instances list we can see the asociated IP, and can ssh into our server which is now running Dokku. Please look at the <a href="#finalnotes">final notes</a> at the bottom for a few clarifications and details.</p>
<h4 id="openstack-cli">OpenStack CLI</h4>
<p>The second option is to use the OpenStack CLI client.</p>
<p><em><strong>Add Public Keys and download the DreamCompute credentials file</strong></em></p>
<ul>
<li>Add our SSH Public Key through the Web UI in the <code>Access &amp; Security &gt; Key Pairs</code> section.</li>
<li>Download the DreamCompute credentials file to our working directory from the <code>Access &amp; Security &gt; API Access</code> section or click <a href="https://iad2.dreamcompute.com/project/access_and_security/api_access/openrc" target="_blank">here</a>. This allows the OpenStack client to connect to DreamHost API endpoints.</li>
</ul>
<p><em><strong>Install the OpenStack CLI</strong></em></p>
<ul>
<li>Detailed instructions on installing the client can be found <a href="http://docs.openstack.org/user-guide/common/cli-install-openstack-command-line-clients.html" target="_blank">here</a>.</li>
</ul>
<p><em><strong>Create Post-Creation Script</strong></em></p>
<p>Next we create a <code>dokku-cloudinit.sh</code> script that contains instructions to add Docker and Dokku&rsquo;s apt repositories and install Dokku with the proper debconf options set. Replace <code>$YOUR_FULL_QUALIFIED_DOMAIN</code> at the bottom with the domain name you intend to use for Dokku.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#007f7f">#cloud-config</span>
</span></span><span style="display:flex;"><span>apt_upgrade: <span style="color:#fff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>apt_sources:
</span></span><span style="display:flex;"><span> - source: <span style="color:#0ff;font-weight:bold">&#34;deb https://packagecloud.io/dokku/dokku/ubuntu/ trusty main&#34;</span>
</span></span><span style="display:flex;"><span>   key: |
</span></span><span style="display:flex;"><span>    -----BEGIN PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>    Version: SKS 1.1.5
</span></span><span style="display:flex;"><span>    Comment: Hostname: pgpkeys.eu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mQINBFLUbogBEADceEoxBDoE6QM5xV/13qiELbFIkQgy/eEi3UesXmJblFdU7wcDLOW3NuOI
</span></span><span style="display:flex;"><span>    x/dgbZljeMEerj6N1cR7r7X5sVoFVEZiK4RLkC3Cpdns0d90ud2f3VyKK7PXRBstdLm3JlW9
</span></span><span style="display:flex;"><span>    OWZoe4VSADSMGWm1mIhT601qLKKAuWJoBIhnKY/RhA/RBXt7z22g4ta9bT67PlliTo1a8y6D
</span></span><span style="display:flex;"><span>    hUA7gd+5TsVHaxDRrzc3mKObdyS5LOT/gf8Ti2tYBY5MBbQ8NUGExls4dXKlieePhKutFbde
</span></span><span style="display:flex;"><span>    7sq3n5sdp1Ndoran1u0LsWnaSDx11R3xiYfXJ6xGukAc6pYlUD1yYjU4oRGhD2fPyuewqhHN
</span></span><span style="display:flex;"><span>    UVwqupTBQtEGULrtdwK04kgIH93ssGRsLqUKe88uZeeBczVuupv8ZLd1YcQ29AfJHe6nsevs
</span></span><span style="display:flex;"><span>    gjF+eajYlzsvC8BNq3nOvvedcuI6BW4WWFjraH06GNTyMAZi0HibTg65guZXpLcpPW9hTzXM
</span></span><span style="display:flex;"><span>    oUrZz8MvJ9yUBcFPKuFOLDpRP6uaIbxJsYqiituoltl0vgS/vJcpIVVRwSaqPHa6S63dmKm2
</span></span><span style="display:flex;"><span>    6gq18v4l05mVcInPn+ciHtcSlZgQkCsRTSvfUrK+7nzyWtNQMGKstAZ7AHCoA8Pbc3i7wyOt
</span></span><span style="display:flex;"><span>    nTgfPFHVpHg3JHsPXKk9/71YogtoNFoETMFeKL1K+O+GMQddYQARAQABtDdwYWNrYWdlY2xv
</span></span><span style="display:flex;"><span>    dWQgb3BzIChwcm9kdWN0aW9uIGtleSkgPG9wc0BwYWNrYWdlY2xvdWQuaW8+iQI+BBMBAgAo
</span></span><span style="display:flex;"><span>    BQJS1G6IAhsvBQkJZgGABgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRDC5zQk1ZCXq13K
</span></span><span style="display:flex;"><span>    D/wNzAi6rEzRyx6NH61Hc19s2QAgcU1p1mX1Tw0fU7CThx1nr8JrG63465c9dzUpVzNTYvMs
</span></span><span style="display:flex;"><span>    USBJwbb1phahCMNGbJpZRQ5bvW/i3azmk/EHKL7wgMV8wu1atu6crrxGoDEfWUa4aIwbxZGk
</span></span><span style="display:flex;"><span>    oxDZKZeKaLxz2ZChuKzjvkGUk4PUoOxxPn9XeFmJQ68ys4Z0CgIGfx2i64apqfsjVEdWEEBL
</span></span><span style="display:flex;"><span>    oxHFIPy7FgFafRL0bgsquwPkb5q/dihIzJEZ2EMOGwXuUaKI/UAhgRIUGizuW7ECEjX4FG92
</span></span><span style="display:flex;"><span>    8RsizHBjYL5Gl7DMt1KcPFe/YU/AdWEirs9pLQUr9eyGZN7HYJ03Aiy8R5aMBoeYsfxjifkb
</span></span><span style="display:flex;"><span>    WCpbN+SEATaB8YY6Zy2LK/5TiUYNUYb/VHP//ZEv0+uPgkoro6gWVkvGDdXqH2d9svwfrQKf
</span></span><span style="display:flex;"><span>    GSEQYXlLytZKvQSDLAqclSANs/y5HDjUxgtWKdsL3xNPCmffjpyiqS4pvoTiUwS4FwBsIR2s
</span></span><span style="display:flex;"><span>    BDToIEHDvTNk1imeSmxCUgDxFzWkmB70FBmwz7zs9FzuoegrAxXonVit0+f3CxquN7tS0mHa
</span></span><span style="display:flex;"><span>    WrZfhHxEIt65edkIz1wETOch3LIg6RaFwsXgrZCNTB/zjKGAFEzxOSBkjhyJCY2g74QNObKg
</span></span><span style="display:flex;"><span>    TSeGNFqG0ZBHe2/JQ33UxrDtpeKvCYTbjuWlyrkCDQRS1G6IARAArtNBXq+CNU9DR2YCi759
</span></span><span style="display:flex;"><span>    fLR9F62Ec/QLWY3c/D26OqjTgjxAzGKbu1aLzphP8tq1GDCbWQ2BMMZI+L0Ed502u6kC0fzv
</span></span><span style="display:flex;"><span>    bppRRXrVaxBrwxY9XhnzvkXXzwNwnBalkrJ5Yk0lN8ocwCuUJohms7V14nEDyHgAB8yqCEWz
</span></span><span style="display:flex;"><span>    Qm/SIZw35N/insTXshcdiUGeyufo85SFhCUqZ1x1TkSC/FyDG+BCwArfj8Qwdab3UlUEkF6c
</span></span><span style="display:flex;"><span>    zTjwWIO+5vYuR8bsCGYKCSrGRh5nxw0tuGXWXWFlBMSZP6mFcCDRQDGcKOuGTjiWzLJcgsEc
</span></span><span style="display:flex;"><span>    BoIX4WpHJYgl6ovex7HkfQsWPYL5V1FIHMlw34ALx4aQDH0dPJpC+FxynrfTfsIzPnmm2huX
</span></span><span style="display:flex;"><span>    PGGYul/TmOp00CsJEcKOjqcrYOgraYkCGVXbd4ri6Pf7wJNiJ8V1iKTzQIrNpqGDk306Fww1
</span></span><span style="display:flex;"><span>    VsYBLOnrSxNPYOOu1s8c8c9N5qbEbOCtQdFf5pfuqsr5nJ0G4mhjQ/eLtDA4E7GPrdtUoceO
</span></span><span style="display:flex;"><span>    kYKcQFt/yqnL1Sj9Ojeht3ENPyVSgE8NiWxNIEM0YxPyJEPQawejT66JUnTjzLfGaDUxHfse
</span></span><span style="display:flex;"><span>    RcyMMTbTrZ0fLJSRaIH1AubPxhiYy+IcWOVMyLiUwjBBpKMStej2XILEpIJXP6Pn96KjMcB1
</span></span><span style="display:flex;"><span>    grd0J2vMw2Kg3E8AEQEAAYkERAQYAQIADwUCUtRuiAIbLgUJCWYBgAIpCRDC5zQk1ZCXq8Fd
</span></span><span style="display:flex;"><span>    IAQZAQIABgUCUtRuiAAKCRA3u+4/etlbPwI5D/4idr7VHQpou6c/YLnK1lmz3hEikdxUxjC4
</span></span><span style="display:flex;"><span>    ymOyeODsGRlaxXfjvjOCdocMzuCY3C+ZfNFKOTtVY4fV5Pd82MuY1H8lnuzqLxT6UwpIwo+y
</span></span><span style="display:flex;"><span>    Ev6xSK0mqm2FhT0JSQ7E7MnoHqsU0aikHegyEucGIFzew6BJUD2xBu/qmVP/YEPUzhW4g8uD
</span></span><span style="display:flex;"><span>    +oRMxdAHXqvtThvFySY/rakLQRMRVwYdTFHrvu3zHP+6hpZt25llJb3DiO+dTsv+ptLmlUr5
</span></span><span style="display:flex;"><span>    JXLSSw2DfLxQa0kD5PGWpFPVJcxraS2pNDK9KTi2nr1ZqDxeKjDBT6zZOs9+4JQ9fepn1S26
</span></span><span style="display:flex;"><span>    AmHWHhyzvpjKxVm4sOilKysi84CYluNrlEnidNf9wQa3NlLmtvxXQfm1py5tlwL5rE+ek1fw
</span></span><span style="display:flex;"><span>    leaKXRcNNmm+T+vDdIw+JcHy8a53nK1JEfBqEuY6IqEPKDke0wDIsDLSwI1OgtQoe7Cm1PBu
</span></span><span style="display:flex;"><span>    jfJu4rYQE+wwgWILTAgIy8WZXAloTcwVMtgfSsgHia++LqKfLDZ3JuwpaUAHAtguPy0QddvF
</span></span><span style="display:flex;"><span>    I4R7eFDVwHT0sS3AsG0HAOCY/1FRe8cAw/+9Vp0oDtOvBWAXycnCbdQeHvwh2+Uj2u2f7K3C
</span></span><span style="display:flex;"><span>    DMoevcBl4L5fkFkYTkmixCDy5nst1VM5nINueUIkUAJJbOGpd6yFdif7mQR0JWcPLudb+fwu
</span></span><span style="display:flex;"><span>    sJ4UEACYWhPa8Gxa7eYopRsydlcdEzwpmo6E+V8GIdLFRFFpKHQEzbSW5coxzU6oOiPbTurC
</span></span><span style="display:flex;"><span>    ZorIMHTA9cpAZoMUGKaSt19UKIMvSqtcDayhgf4cZ2ay1z0fdJ2PuLeNnWeiGyfq78q6wqSa
</span></span><span style="display:flex;"><span>    Jq/h6JdAiwXplFd3gqJZTrFZz7A6Q6Pd7B+9PZ/DUdEO3JeZlHJDfRmfU2XPoyPUoq79+whP
</span></span><span style="display:flex;"><span>    5Tl3WwHUv7Fg357kRSdzKv9DbgmhqRHlgVeKn9pwN4cpVBN+idzwPefQksSKH4lBDvVr/9j+
</span></span><span style="display:flex;"><span>    V9mmrOx7QmQ5LCc/1on+L0dqo6suoajADhKy+lDQbzs2mVb4CLpPKncDup/9iJbjiR17DDFM
</span></span><span style="display:flex;"><span>    wgyCoy5OHJICQ5lckNNgkHTS6Xiogkt28YfK4P3S0GaZgIrhKQ7AmO3O+hB12Zr+olpeyhGB
</span></span><span style="display:flex;"><span>    OpBD80URntdEcenvfnXBY/BsuAVbTGXiBzrlBEyQxg656jUeqAdXg+nzCvP0yJlBUOjEcwyh
</span></span><span style="display:flex;"><span>    K/U2nw9nGyaR3u0a9r24LgijGpdGabIeJm6O9vuuqFHHGI72pWUEs355lt8q1pAoJUv8NehQ
</span></span><span style="display:flex;"><span>    mlaR0h5wcwhEtwM6fiSIUTnuJnyHT053GjsUD7ef5fY1KEFmaZeW04kRtFDOPinz0faE8hvs
</span></span><span style="display:flex;"><span>    xzsVgkKye1c2vkXKdOXvA3x+pZzlTHtcgMOhjKQAsA==
</span></span><span style="display:flex;"><span>    =H60S
</span></span><span style="display:flex;"><span>    -----END PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>   filename: dokku.list
</span></span><span style="display:flex;"><span> - source: <span style="color:#0ff;font-weight:bold">&#34;deb https://apt.dockerproject.org/repo ubuntu-trusty main&#34;</span>
</span></span><span style="display:flex;"><span>   key: |
</span></span><span style="display:flex;"><span>    -----BEGIN PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>    Version: SKS 1.1.5
</span></span><span style="display:flex;"><span>    Comment: Hostname: pgpkeys.co.uk
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mQINBFWln24BEADrBl5p99uKh8+rpvqJ48u4eTtjeXAWbslJotmC/CakbNSqOb9oddfzRvGV
</span></span><span style="display:flex;"><span>    eJVERt/Q/mlvEqgnyTQy+e6oEYN2Y2kqXceUhXagThnqCoxcEJ3+KM4RmYdoe/BJ/J/6rHOj
</span></span><span style="display:flex;"><span>    q7Omk24z2qB3RU1uAv57iY5VGw5p45uZB4C4pNNsBJXoCvPnTGAs/7IrekFZDDgVraPx/hdi
</span></span><span style="display:flex;"><span>    wopQ8NltSfZCyu/jPpWFK28TR8yfVlzYFwibj5WKdHM7ZTqlA1tHIG+agyPf3Rae0jPMsHR6
</span></span><span style="display:flex;"><span>    q+arXVwMccyOi+ULU0z8mHUJ3iEMIrpTX+80KaN/ZjibfsBOCjcfiJSB/acn4nxQQgNZigna
</span></span><span style="display:flex;"><span>    32velafhQivsNREFeJpzENiGHOoyC6qVeOgKrRiKxzymj0FIMLru/iFF5pSWcBQB7PYlt8J0
</span></span><span style="display:flex;"><span>    G80lAcPr6VCiN+4cNKv03SdvA69dCOj79PuO9IIvQsJXsSq96HB+TeEmmL+xSdpGtGdCJHHM
</span></span><span style="display:flex;"><span>    1fDeCqkZhT+RtBGQL2SEdWjxbF43oQopocT8cHvyX6Zaltn0svoGs+wX3Z/H6/8P5anog43U
</span></span><span style="display:flex;"><span>    65c0A+64Jj00rNDr8j31izhtQMRo892kGeQAaaxg4Pz6HnS7hRC+cOMHUU4HA7iMzHrouAdY
</span></span><span style="display:flex;"><span>    eTZeZEQOA7SxtCME9ZnGwe2grxPXh/U/80WJGkzLFNcTKdv+rwARAQABtDdEb2NrZXIgUmVs
</span></span><span style="display:flex;"><span>    ZWFzZSBUb29sIChyZWxlYXNlZG9ja2VyKSA8ZG9ja2VyQGRvY2tlci5jb20+iQIcBBABCgAG
</span></span><span style="display:flex;"><span>    BQJWw7vdAAoJEFyzYeVS+w0QHysP/i37m4SyoOCVcnybl18vzwBEcp4VCRbXvHvOXty1gccV
</span></span><span style="display:flex;"><span>    IV8/aJqNKgBV97lY3vrpOyiIeB8ETQegsrxFE7t/Gz0rsLObqfLEHdmn5iBJRkhLfCpzjeOn
</span></span><span style="display:flex;"><span>    yB3Z0IJB6UogO/msQVYe5CXJl6uwr0AmoiCBLrVlDAktxVh9RWch0l0KZRX2FpHu8h+uM0/z
</span></span><span style="display:flex;"><span>    ySqIidlYfLa3y5oHscU+nGU1i6ImwDTD3ysZC5jp9aVfvUmcESyAb4vvdcAHR+bXhA/RW8QH
</span></span><span style="display:flex;"><span>    eeMFliWw7Z2jYHyuHmDnWG2yUrnCqAJTrWV+OfKRIzzJFBs4e88ru5h2ZIXdRepw/+COYj34
</span></span><span style="display:flex;"><span>    LyzxR2cxr2u/xvxwXCkSMe7F4KZAphD+1ws61FhnUMi/PERMYfTFuvPrCkq4gyBjt3fFpZ2N
</span></span><span style="display:flex;"><span>    R/fKW87QOeVcn1ivXl9id3MMs9KXJsg7QasT7mCsee2VIFsxrkFQ2jNpD+JAERRn9Fj4ArHL
</span></span><span style="display:flex;"><span>    5TbwkkFbZZvSi6fr5h2GbCAXIGhIXKnjjorPY/YDX6X8AaHOW1zblWy/CFr6VFl963jrjJga
</span></span><span style="display:flex;"><span>    g0G6tNtBZLrclZgWhOQpeZZ5Lbvz2ZA5CqRrfAVcwPNW1fObFIRtqV6vuVluFOPCMAAnOnqR
</span></span><span style="display:flex;"><span>    02w9t17iVQjO3oVN0mbQi9vjuExXh1YoScVetiO6LSmlQfVEVRTqHLMgXyR/EMo7iQIcBBAB
</span></span><span style="display:flex;"><span>    CgAGBQJXSWBlAAoJEFyzYeVS+w0QeH0QAI6btAfYwYPuAjfRUy9qlnPhZ+xt1rnwsUzsbmo8
</span></span><span style="display:flex;"><span>    K3XTNh+l/R08nu0dsczw30Q1wju28fh1N8ay223+69f0+yICaXqR18AbGgFGKX7vo0gfEVax
</span></span><span style="display:flex;"><span>    dItUN3eHNydGFzmeOKbAlrxIMECnSTG/TkFVYO9Ntlv9vSN2BupmTagTRErxLZKnVsWRzp+X
</span></span><span style="display:flex;"><span>    elwlgU5BCZ6U6Ze8+bIc6F1bZstf17X8i6XNV/rOCLx2yP0hn1osoljoLPpW8nzkwvqYsYbC
</span></span><span style="display:flex;"><span>    A28lMt1aqe0UWvRCqR0zxlKn17NZQqjbxcajEMCajoQ01MshmO5GWePViv2abCZ/iaC5zKqV
</span></span><span style="display:flex;"><span>    T3deMJHLq7lum6qhA41E9gJH9QoqT+qgadheeFfoC1QP7cke+tXmYg2R39p3l5Hmm+JQbP4f
</span></span><span style="display:flex;"><span>    9V5mpWExvHGCSbcatr35tnakIJZugq2ogzsm1djCSz9222RXl9OoFqsm1bNzA78+/cOt5N2c
</span></span><span style="display:flex;"><span>    yhU0bM2T/zgh42YbDD+JDU/HSmxUIpU+wrGvZGM2FU/up0DRxOC4U1fL6HHlj8liNJWfEg3v
</span></span><span style="display:flex;"><span>    hougOh66gGF9ik5j4eIlNoz6lst+gmvlZQ9/9hRDeoG+AbhZeIlQ4CCw+Y1j/+fUxIzKHPVK
</span></span><span style="display:flex;"><span>    +aFJd+oJVNvbojJW/SgDdSMtFwqOvXyYcHl30Ws0gZUeDyAmNGZeJ3kFklnApDmeKK+OiQIi
</span></span><span style="display:flex;"><span>    BBABCgAMBQJXe5zTBYMHhh+AAAoJEDG4FaMBBnSp7YMQAJqrXoBonZAq07B6qUaT3aBCgnY4
</span></span><span style="display:flex;"><span>    JshbXmFb/XrrS75f7YJDPx2fJJdqrbYDIHHgOjzxvp3ngPpOpJzI5sYmkaugeoCO/KHu/+39
</span></span><span style="display:flex;"><span>    XqgTB7fguzapRfbvuWp+qzPcHSdb9opnagfzKAze3DQnnLiwCPlsyvGpzC4KzXgV2ze/4raa
</span></span><span style="display:flex;"><span>    Oye1kK7O0cHyapmn/q/TR3S8YapyXq5VpLThwJAw1SRDu0YxeXIAQiIfaSxT79EktoioW2CS
</span></span><span style="display:flex;"><span>    V8/djt+gBjXnKYJJA8P1zzX7GNt/Rc2YG0Ot4v6tBW16xqFTg+n5JzbeK5cZ1jbIXXfCcaZJ
</span></span><span style="display:flex;"><span>    yiM2MzYGhSJ9+EV7JYF05OAIWE4SGTRjXMquQ2oMLSwMCPQHm+FCD9PXQ0tHYx6tKT34wksd
</span></span><span style="display:flex;"><span>    moWsdejl/n3NS+178mG1WI/lN079h3im2gRwOykMou/QWs3vGw/xDoOYHPV2gJ7To9BLVnVK
</span></span><span style="display:flex;"><span>    /hROgdFLZFeyRScNzwKm57HmYMFA74tX601OiHhk1ymP2UUc25oDWpLXlfcRULJJlo/KfZZF
</span></span><span style="display:flex;"><span>    3pmKwIq3CilGayFUi1NNwuavG76EcAVtVFUVFFIITwkhkuRbBHIytzEHYosFgD5/acK0Pauq
</span></span><span style="display:flex;"><span>    JnwrwKv0nWq3aK7nKiALAD+iZvPNjFZau3/APqLEmvmRnAElmugcHsWREFxMMjMMVgYFiYKU
</span></span><span style="display:flex;"><span>    AJO8u46eiQI4BBMBAgAiBQJVpZ9uAhsvBgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRD3
</span></span><span style="display:flex;"><span>    YiFXLFJgnbRfEAC9Uai7Rv20QIDlDogRzd+Vebg4ahyoUdj0CH+nAk40RIoq6G26u1e+sdgj
</span></span><span style="display:flex;"><span>    pCa8jF6vrx+smpgd1HeJdmpahUX0XN3X9f9qU9oj9A4I1WDalRWJh+tP5WNv2ySy6AwcP9Qn
</span></span><span style="display:flex;"><span>    juBMRTnTK27pk1sEMg9oJHK5p+ts8hlSC4SluyMKH5NMVy9c+A9yqq9NF6M6d6/ehKfBFFLG
</span></span><span style="display:flex;"><span>    9BX+XLBATvf1ZemGVHQusCQebTGv0C0V9yqtdPdRWVIEhHxyNHATaVYOafTj/EF0lDxLl6zD
</span></span><span style="display:flex;"><span>    T6trRV5n9F1VCEh4Aal8L5MxVPcIZVO7NHT2EkQgn8CvWjV3oKl2GopZF8V4XdJRl90U/WDv
</span></span><span style="display:flex;"><span>    /6cmfI08GkzDYBHhS8ULWRFwGKobsSTyIvnbk4NtKdnTGyTJCQ8+6i52s+C54PiNgfj2ieNn
</span></span><span style="display:flex;"><span>    6oOR7d+bNCcG1CdOYY+ZXVOcsjl73UYvtJrO0Rl/NpYERkZ5d/tzw4jZ6FCXgggA/Zxcjk6Y
</span></span><span style="display:flex;"><span>    1ZvIm8Mt8wLRFH9Nww+FVsCtaCXJLP8DlJLASMD9rl5QS9Ku3u7ZNrr5HWXPHXITX660jgly
</span></span><span style="display:flex;"><span>    shch6CWeiUATqjIAzkEQom/kEnOrvJAtkypRJ59vYQOedZ1sFVELMXg2UCkD/FwojfnVtjzY
</span></span><span style="display:flex;"><span>    aTCeGwFQeqzHmM241iuOmBYPeyTY5veF49aBJA1gEJOQTvBR8Q==
</span></span><span style="display:flex;"><span>    =Yhur
</span></span><span style="display:flex;"><span>    -----END PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>   filename: docker.list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>package_upgrade: <span style="color:#fff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>debconf_selections: |
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dokku dokku/web_config boolean <span style="color:#fff;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>    dokku dokku/vhost_enable boolean <span style="color:#fff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># set the domain name of the new Dokku server</span>
</span></span><span style="display:flex;"><span>    dokku dokku/hostname string $YOUR_FULL_QUALIFIED_DOMAIN
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># this copies over the public SSH key assigned to the server</span>
</span></span><span style="display:flex;"><span>    dokku dokku/key_file string /home/ubuntu/.ssh/authorized_keys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>packages:
</span></span><span style="display:flex;"><span>   - dokku
</span></span></code></pre></div><p><em><strong>Launch a new instance</strong></em></p>
<p>Now we are ready to launch a new instance and install Dokku. From our working directory we need to source the credentials file downloaded.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">source</span> dhcxxxxx-openrc.sh
</span></span></code></pre></div><p>Create a <code>semisonic</code> flavor instance based on Ubuntu-14.04. The <code>default</code> security-group specifies the server&rsquo;s firewall configuration. Replace <code>$YOUR_SSH_KEYNAME</code> with the name of our SSH Public Keys which we added in the first step and run:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>openstack server create <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>  --image Ubuntu-14.04 <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>  --flavor gp1.semisonic <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>  --security-group default <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>  --key-name $YOUR_SSH_KEYNAME <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>  --user-data dokku-cloudinit.sh <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>  dokku
</span></span></code></pre></div><p>After the instance is created and started, our server will be running Dokku. We can see the IP to SSH into by running:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>nova list
</span></span></code></pre></div><br>
<p><a name="finalnotes" target="_self"></a></p>
<h4 id="final-notes">Final Notes</h4>
<p>SSH into our instance with the installed SSH Public Keys using the <code>ubuntu</code> or <code>debian</code> username depending on our OS.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ssh ubuntu@$IP
</span></span></code></pre></div><p>Verify dokku is installed by running:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>dokku version
</span></span></code></pre></div><p>If there is an error, most likely Dokku is still installing in the background. Everything should be installed in a few minutes, and we can re-run the command again to verify.</p>
<p>At this stage Dokku is now ready to host our heroku-compatible applications in a heroku-like environment for a very afordable price.</p>
<p>Complete documentation on creating, deploying, and managing Dokku apps can be found <a href="http://dokku.viewdocs.io/dokku/getting-started/installation" target="_blank">here</a>.</p>
<p>Happy coding :)</p>
	</article>
</main>

<br>
<div id="bottom-nav" class="text-center center-block">
	<a href=" https://gloutnikov.com/" class="btn btn-default"><i class="fas fa-home"></i> Home</a>
</div>


  <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sgloutnikov" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GFG2Y6XSY5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-GFG2Y6XSY5');
  </script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/highlight.min.js"></script>
  
  <script src="https://gloutnikov.com//js/App.js"></script>
  
</body>
</html>
